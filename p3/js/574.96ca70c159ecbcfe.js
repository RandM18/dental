(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{90574:function(e,r,n){"use strict";n.r(r);var t=n(92777),i=n(82262),l=n(10748),o=n(45959),a=n(63553),c=n(37247),s=n(59499),d=n(75589),u=n(67294),p=n(94184),h=n.n(p),v=n(53290),m=n.n(v),f=n(8141),g=n(83945),y=n(68816),Z=n(49390),x=n(35921),C=n(23059),O=n(44661),j=n(15214),T=n(57208),S=n(85893),_=function(e){(0,o.Z)(p,e);var r,n,u=(r=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,c.Z)(r);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return(0,a.Z)(this,e)});function p(e){var r;return(0,t.Z)(this,p),r=u.call(this,e),(0,s.Z)((0,l.Z)(r),"triggerScrollPercents",void 0),(0,s.Z)((0,l.Z)(r),"triggerTimerValue",void 0),(0,s.Z)((0,l.Z)(r),"triggerTimer",void 0),(0,s.Z)((0,l.Z)(r),"openOverlay",(function(){r.setState({modalIsOpen:!0},(function(){r.cancelAutomaticTrigger(),(0,x.FS)(r.props.fields.overlayId.value,!1)}))})),(0,s.Z)((0,l.Z)(r),"handleScroll",(function(){(0,Z.Z)()>=r.triggerScrollPercents&&r.openOverlay()})),(0,s.Z)((0,l.Z)(r),"triggerOnTimeOut",(function(e){r.triggerTimer=setTimeout((function(){r.openOverlay()}),e)})),(0,s.Z)((0,l.Z)(r),"initAutomaticTrigger",(function(){r.triggerScrollPercents&&window.addEventListener("scroll",r.handleScroll),r.triggerTimerValue&&(console.log(r.triggerTimerValue),r.triggerOnTimeOut(r.triggerTimerValue))})),(0,s.Z)((0,l.Z)(r),"cancelAutomaticTrigger",(function(){y.Z&&(window.removeEventListener("scroll",r.handleScroll),clearTimeout(r.triggerTimer))})),(0,s.Z)((0,l.Z)(r),"handleButtonClick",(function(){r.setState({modalIsOpen:!0},(function(){(0,x.FS)(r.props.fields.overlayId.value,!1)}))})),(0,s.Z)((0,l.Z)(r),"handleClose",(function(){r.setState({modalIsOpen:!1},(function(){(0,x.FS)(r.props.fields.overlayId.value,!0)}))})),r.state={modalIsOpen:!1},r.triggerScrollPercents=+e.params.triggerScrollPercents,r.triggerTimerValue=1e3*+e.params.triggerTimerSeconds,r}return(0,i.Z)(p,[{key:"componentDidMount",value:function(){if(y.Z){var e="openoverlay:{".concat(this.props.fields.overlayId.value,"}");document.body.addEventListener(e,this.openOverlay,!1),this.props.sitecoreContext.pageEditing||this.initAutomaticTrigger()}}},{key:"render",value:function(){var e=this.state.modalIsOpen,r=this.props,n=r.fields,t=r.params,i=r.rendering,l=r.sitecoreContext,o=n.overlayId,a=t.isModal,c=t.hideOverlayContent,u=(0,O.Xp)(a),p=(0,O.Xp)(c);return(0,S.jsxs)("div",{children:[l.pageEditing&&(0,S.jsxs)("div",{className:"typeset ".concat(m().root),children:[(0,S.jsx)("div",{className:"container",children:(0,S.jsx)("div",{className:"row justify-content-center",children:(0,S.jsxs)("div",{className:h()("col col-12 col-md-8",m().container),children:[(0,S.jsx)("h3",{className:h()("f5 f3-md mb1 mb2-md",m().title),children:"Overlay preview"}),(0,S.jsx)("p",{className:m().explanation,children:'To open this overlay in normal mode, copy and paste value and insert into "General Link"-fields'}),(0,S.jsx)("p",{children:(0,S.jsx)("span",{className:m().value,children:"overlay:{".concat(o.value,"}")})}),(0,S.jsx)(g.zx,{handleClick:this.handleButtonClick,theme:"button corporate-primary",children:"Open (CTRL + Click)"})]})})}),(0,S.jsx)("div",{className:h()(m().placeholderContainer,(0,s.Z)({},m().hide,p)),children:(0,S.jsx)(d.Placeholder,{name:"overlay",rendering:i,renderEach:function(e,r){return(0,S.jsx)("div",{children:e},r)},renderEmpty:function(e){return(0,S.jsx)("div",{children:e})},children:this.props.children})})]}),(0,S.jsx)(f.default,{isOpen:e,onClose:this.handleClose,type:"fade",color:"white",isModal:{value:u},alwaysInDOM:!0,checkAnimation:!1,closeBtnSlim:!0,isExperienceEditorMode:l.pageEditing,children:(0,S.jsx)(d.Placeholder,{name:"overlay",rendering:i,renderEach:function(e,r){return(0,S.jsx)("div",{children:e},r)},renderEmpty:function(e){return(0,S.jsx)("div",{children:e})},children:this.props.children})})]})}}]),p}(u.Component);r.default=(0,T.qC)((0,j.Z)({on:["idle"]}),(0,d.withSitecoreContext)({updatable:!0}),C.p)(_)},53290:function(e){e.exports={container:"overlay_container__tsOVS",value:"overlay_value__Zkdm9",placeholderContainer:"overlay_placeholderContainer__aBlND",hide:"overlay_hide__hCI26"}}}]);