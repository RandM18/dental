"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3056],{73056:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var o=n(4730),r=n(92777),i=n(82262),c=n(10748),a=n(45959),l=n(63553),s=n(37247),u=n(59499),f=n(67294),d=n(73935),p=n(68816),v=n(35921),y=n(16606),h=n(23059);function m(t){var e=t.target;e.closest(".footnote")||e.closest(".tooltip")||g()}function g(){Array.prototype.forEach.call(document.getElementsByClassName("footnote"),(function(t){t.classList.remove("active")})),Array.prototype.forEach.call(document.getElementsByClassName("tooltip"),(function(t){t.remove()}))}function b(t){var e=t.getBoundingClientRect();return"translate(".concat(e.right-25-function(t){return t?Math.max(0,t.getBoundingClientRect().right+190-document.documentElement.clientWidth):0}(t),"px, ").concat(e.y+26+document.documentElement.scrollTop,"px)")}var L=n(85893),E=["tag","field"];function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Z=function(t){(0,a.Z)(h,t);var e,n,f=(e=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,s.Z)(e);if(n){var r=(0,s.Z)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,l.Z)(this,t)});function h(){var t;(0,r.Z)(this,h);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=f.call.apply(f,[this].concat(n)),(0,u.Z)((0,c.Z)(t),"footnoteList",null),(0,u.Z)((0,c.Z)(t),"resizeHandler",(function(){!function(){var t=document.querySelector(".tooltip");if(t){var e=document.querySelector(".footnote.active");if(!e)return void g();t.style.transform=b(e)}}()})),(0,u.Z)((0,c.Z)(t),"tooltipInit",(function(){var e=d.findDOMNode((0,c.Z)(t));function n(t){var e,n,o,r,i=t.target;if(!i.classList.contains("footnoteText")){var c=i.querySelector(".footnoteText");c&&(i.classList.contains("active")?g():(g(),e=c,n=i,(o=document.createElement("div")).innerHTML="<p>".concat(e.innerHTML,"</p>"),o.setAttribute("role","tooltip"),o.classList.add("tooltip"),o.classList.add("typeset"),o.style.transform=b(n),r=window.getComputedStyle(e),o.style.color=r.color,o.style.backgroundColor=r.backgroundColor,document.body.appendChild(o),i.classList.add("active")))}}e&&(t.footnoteList=e.getElementsByClassName("footnote"),0!==t.footnoteList.length&&(Array.prototype.forEach.call(t.footnoteList,(function(t){t.addEventListener("click",n)})),window.addEventListener("click",m)))})),(0,u.Z)((0,c.Z)(t),"openModalInit",(function(){var e=d.findDOMNode((0,c.Z)(t));if(e){var n=e.getElementsByTagName("a");0!==n.length&&Array.prototype.forEach.call(n,(function(t){var e=t.href.match(v.fr);e&&(t.addEventListener("click",(function(t){(0,v.B2)(t,e[0])})),t.setAttribute("href","#"+e[0]))}))}})),t}return(0,i.Z)(h,[{key:"componentDidMount",value:function(){p.Z&&(this.openModalInit(),this.tooltipInit(),this.footnoteList&&this.footnoteList.length>0&&(this.resizeHandler(),window.addEventListener("resize",this.resizeHandler)))}},{key:"componentWillUnmount",value:function(){this.footnoteList&&this.footnoteList.length>0&&(window.removeEventListener("click",m),window.removeEventListener("resize",this.resizeHandler))}},{key:"render",value:function(){var t=this.props,e=t.tag,n=t.field,r=(0,o.Z)(t,E),i=w({},n),c="string"===(null==n?void 0:n.editable);return null!=i&&i.value&&!c&&(i.value=i.value.replace(/\[(.*?)\]/g,'<span class="highlighted-text">$1</span>')),(0,L.jsx)(y.H,w({tag:void 0===e?"div":e,field:i},r))}}]),h}(f.Component),k=(0,h.p)(Z)}}]);