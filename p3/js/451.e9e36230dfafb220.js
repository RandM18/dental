(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{20451:function(e,t,s){"use strict";s.r(t);var i=s(92777),o=s(82262),n=s(10748),r=s(45959),l=s(63553),a=s(37247),c=s(59499),d=s(67294),f=s(75589),p=s(94184),h=s.n(p),m=s(83945),u=s(68816),v=s(19880),g=s.n(v),x=s(10990),Z=s(25317),w=s(23059),_=s(15214),y=s(57208),N=s(85893),j=function(e){(0,r.Z)(f,e);var t,s,d=(t=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,a.Z)(t);if(s){var o=(0,a.Z)(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;return(0,i.Z)(this,f),t=d.call(this,e),(0,c.Z)((0,n.Z)(t),"raf",void 0),(0,c.Z)((0,n.Z)(t),"progressTarget",void 0),(0,c.Z)((0,n.Z)(t),"start",void 0),(0,c.Z)((0,n.Z)(t),"end",void 0),(0,c.Z)((0,n.Z)(t),"stepPoints",void 0),(0,c.Z)((0,n.Z)(t),"steps",void 0),(0,c.Z)((0,n.Z)(t),"images",void 0),(0,c.Z)((0,n.Z)(t),"dProgress",void 0),(0,c.Z)((0,n.Z)(t),"progress",void 0),(0,c.Z)((0,n.Z)(t),"easing",void 0),(0,c.Z)((0,n.Z)(t),"root",void 0),(0,c.Z)((0,n.Z)(t),"offset",void 0),(0,c.Z)((0,n.Z)(t),"text",void 0),(0,c.Z)((0,n.Z)(t),"tl",void 0),(0,c.Z)((0,n.Z)(t),"onScroll",(function(){t.progressTarget=t.getProgress(t.start,t.end),t.closest(t.stepPoints,t.progressTarget)!==t.state.activeIndex&&t.setState({activeIndex:t.closest(t.stepPoints,t.progressTarget)},(function(){x.ZP.to(t.images.children,.65,{display:"none",opacity:0,ease:Z.qD.easeNone}),x.ZP.to(t.images.children[t.state.activeIndex],.65,{display:"block",opacity:1,ease:Z.qD.easeNone})}))})),(0,c.Z)((0,n.Z)(t),"animate",(function(){t.dProgress=t.progressTarget-t.progress,t.progress+=t.dProgress*t.easing,t.tl.progress(t.progress),t.raf=requestAnimationFrame(t.animate)})),(0,c.Z)((0,n.Z)(t),"onResize",(function(){var e=t.props.sitecoreContext.pageEditing;window.innerWidth<992?t.state.isMobile||t.setState({isMobile:!0},(function(){window.removeEventListener("scroll",t.onScroll),cancelAnimationFrame(t.raf)})):(t.state.isMobile&&t.setState({isMobile:!1},(function(){e||t.init()})),t.offset=t.root.getBoundingClientRect().top+window.pageYOffset,t.start=t.offset,t.end=t.offset+t.root.clientHeight-window.innerHeight)})),(0,c.Z)((0,n.Z)(t),"init",(function(){window.addEventListener("scroll",t.onScroll),t.progress=0,t.dProgress=0,t.easing=.085,t.steps=1/(t.props.fields.items.length-1),t.stepPoints=[];for(var e=0;e<t.props.fields.items.length;e++)t.stepPoints.push(e*t.steps);t.props.fields.items.length>1&&(t.root.style.height="".concat(100*t.props.fields.items.length,"vh")),t.tl=x.ZP.timeline({paused:!0}),t.tl.set(t.text.children[0],{y:10}),t.props.fields.items.forEach((function(e,s){0!==s&&t.tl.fromTo(t.text.children[s-1],1,{y:0},{y:-10,ease:Z.qD.easeNone}).fromTo(t.text.children[s],1,{y:10},{y:0,ease:Z.qD.easeNone})})),t.tl.progress(1),t.onResize(),t.onScroll(),t.animate()})),t.state={activeIndex:0,isMobile:!1},t}return(0,o.Z)(f,[{key:"componentDidMount",value:function(){var e=this.props.sitecoreContext.pageEditing;!u.Z||(window.addEventListener("resize",this.onResize),this.onResize(),e||this.state.isMobile||this.init())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll),cancelAnimationFrame(this.raf)}},{key:"getProgress",value:function(e,t){var s=window.scrollY-e;return this.clamp(s/(t-e),0,1)}},{key:"closest",value:function(e,t){for(var s=1e3,i=0,o=0;o<e.length;o++){var n=Math.abs(t-e[o]);n<s&&(s=n,i=o)}return i}},{key:"clamp",value:function(e,t,s){return e<=t?t:e>=s?s:e}},{key:"render",value:function(){var e=this,t=this.props.fields.items,s=this.state,i=s.activeIndex,o=s.isMobile,n=this.props.sitecoreContext.pageEditing;return n||o?(0,N.jsx)("div",{className:h()(g().root,(0,c.Z)({},g().editor,n)),ref:function(t){return e.root=t},children:(0,N.jsx)("div",{className:"container",children:t&&t.map((function(e,t){return(0,N.jsxs)("div",{className:h()(g().slideshowItem,"row align-items-center justify-content-center mb2"),children:[(0,N.jsx)("div",{className:"col-12 col-lg-5 col-xl-4 offset-xl-1",children:(0,N.jsxs)("div",{className:g().text,children:[(0,N.jsx)(m.xv,{tag:"h3",className:h()("f5 f3-md mb1 mb2-md",g().title),field:e.fields.title}),(0,N.jsx)(m.Vt,{field:e.fields.text,className:"typeset"})]})}),(0,N.jsx)("div",{className:h()("col col-lg-7",g().imagesWrapper),children:(0,N.jsx)("div",{className:g().images,children:(0,N.jsx)(m.Ee,{field:e.fields.image,visibleByDefault:!1})})})]},"slideshowItem-".concat(t))}))})}):(0,N.jsx)("div",{className:g().root,ref:function(t){return e.root=t},children:(0,N.jsx)("div",{className:h()(g().stickyWrapper,(0,c.Z)({},g().singleSlider,1===t.length)),children:(0,N.jsx)("div",{className:g().slideshow,children:(0,N.jsx)("div",{className:"container",children:(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col col-12 col-lg-5 col-xl-4 offset-xl-1",children:(0,N.jsx)("div",{className:g().text,ref:function(t){return e.text=t},children:t&&t.map((function(e,t){return(0,N.jsx)("div",{className:h()(g().slideshowItem,"mb2",(0,c.Z)({},g().active,i.toString()===t.toString())),children:(0,N.jsxs)("div",{children:[(0,N.jsx)(m.xv,{tag:"h3",className:"f5 f3-md mb1 mb2-md",field:e.fields.title}),(0,N.jsx)(m.Vt,{field:e.fields.text,className:h()(g().itemText,"typeset")})]})},"slideshowItem-".concat(t))}))})}),(0,N.jsx)("div",{className:h()("col col-lg-7",g().imagesWrapper),children:(0,N.jsx)("div",{className:g().images,ref:function(t){return e.images=t},children:t&&t.map((function(e,t){return(0,N.jsx)(m.Ee,{field:e.fields.image,largeThreshold:!0},t)}))})})]})})})})})}}]),f}(d.Component);t.default=(0,y.qC)((0,_.Z)({on:[["visible",function(){return{rootMargin:"200px"}}]]}),(0,f.withSitecoreContext)({updatable:!0}),w.p)(j)},19880:function(e){e.exports={root:"slideshow_root___KcXz",stickyWrapper:"slideshow_stickyWrapper__r8YWY",singleSlider:"slideshow_singleSlider__v7sLc",title:"slideshow_title__KvSAa",text:"slideshow_text__7rK19",slideshowItem:"slideshow_slideshowItem__Z91T0",itemText:"slideshow_itemText__MsG9b",active:"slideshow_active__KpvhF",imagesWrapper:"slideshow_imagesWrapper__hJkZL",images:"slideshow_images__vw6FN",editor:"slideshow_editor__zBpyx"}}}]);